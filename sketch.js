const MENU=0,LEVELSELECT=1,LEVEL1=2,LEVEL2=3,LEVEL3=4;let world,fontAB,drip,vine_boom,scream,menu,level,level1,level2,level3,origin,direction,width=1750,height=900,currentStatus=0;function preload(){loadAssets()}function setup(){createCanvas(width,height),world=createWorld(new box2d.b2Vec2(0,0)),world.SetContactListener(new CustomListener),textFont(fontAB),drip.play(),console.log("setup")}function loadAssets(){menu=new Menu,level1=loadJSON("level1.json"),level2=loadJSON("level2.json"),level3=loadJSON("level3.json"),fontAB=loadFont("assets/angrybirds-regular.ttf"),drip=loadSound("assets/bad-piggies-drip.mp3"),soundFormats("mp3","ogg"),vine_boom=loadSound("assets/vine-boom"),scream=loadSound("assets/kirby-falling-meme")}function draw(){switch(world.Step(1/30,50,50),currentStatus){case 0:menu.drawMenu();break;case 1:menu.drawLevels();break;case 2:case 3:case 4:level.draw();break;default:console.log("You got absolutely jabaited")}if(mouseIsPressed&&(2==currentStatus||3==currentStatus||4==currentStatus)){let e=createVector(mouseX,mouseY);direction=e.sub(origin),mag=e.mag(),push(),translate(origin),strokeWeight(2),stroke(255,0,2),line(0,0,e.x,e.y),pop()}}function mousePressed(){switch(origin=createVector(mouseX,mouseY),currentStatus){case 0:mouseX>7*width/16&&mouseX<9.2*width/16&&mouseY>5*height/8&&mouseY<6.2*height/8&&(currentStatus=1,vine_boom.play(),vine_boom.isPlaying()&&(vine_boom.stop(),vine_boom.play()));break;case 1:mouseX>width/7&&mouseX<2*width/7&&mouseY>height/3&&mouseY<2*height/3&&(null!=level&&level.resetLevel(),level=new Level(level1),level.setup(),currentStatus=2,vine_boom.play(),vine_boom.isPlaying()&&(vine_boom.stop(),vine_boom.play())),mouseX>3*width/7&&mouseX<4*width/7&&mouseY>height/3&&mouseY<2*height/3&&(null!=level&&level.resetLevel(),level=new Level(level2),level.setup(),currentStatus=3,vine_boom.play(),vine_boom.isPlaying()&&(vine_boom.stop(),vine_boom.play())),mouseX>5*width/7&&mouseX<6*width/7&&mouseY>height/3&&mouseY<2*height/3&&(null!=level&&level.resetLevel(),level=new Level(level3),level.setup(),currentStatus=4,vine_boom.play(),vine_boom.isPlaying()&&(vine_boom.stop(),vine_boom.play()));break;case 2:case 3:case 4:mouseX<150&&mouseY<150?currentStatus=0:mouseX>25&&mouseX<175&&mouseY>height-150?level.bird=0:mouseX>200&&mouseX<350&&mouseY>height-150?level.bird=1:mouseX>375&&mouseX<525&&mouseY>height-150?level.bird=2:mouseX>550&&mouseX<700&&mouseY>height-150?level.bird=3:mouseX>725&&mouseX<875&&mouseY>height-150?level.bird=4:mouseX>900&&mouseX<1050&&mouseY>height-150?level.bird=5:level.birdAbility()}}function mouseReleased(){switch(currentStatus){case 2:case 3:case 4:origin.x>172&&origin.x<250&&origin.y>465&&origin.y<675&&mouseY<675&&(level.createBird(direction),scream.play(),scream.isPlaying()&&(scream.stop(),scream.play()))}}