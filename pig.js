class Pig{constructor(t,e,s,i,o){this.r=.5*s,this.imgAsset=o,this.timer=0,this.deathTime=100,this.currentStatus=0,this.hp=i;let h=new box2d.b2BodyDef;h.type=box2d.b2BodyType.b2_dynamicBody,h.position=scaleToWorld(t,e);let r=new box2d.b2FixtureDef;r.shape=new box2d.b2CircleShape,r.shape.m_radius=scaleToWorld(this.r),r.density=1,r.friction=.5,r.restitution=0,this.body=world.CreateBody(h),this.body.CreateFixture(r),this.body.SetUserData(this)}setVelocity(t){this.body.SetLinearVelocity(new box2d.b2Vec2(t.x,t.y))}destroyNow(){world.DestroyBody(this.body),this.removed=!0}toDestroy(){this.currentStatus=1,this.toRemove=!0}damage(){this.hp>0?this.hp--:this.toDestroy()}done(){return this.toRemove&&!this.removed&&(this.timer>this.deathTime&&(this.currentStatus=2),this.timer>this.deathTime+10?(world.DestroyBody(this.body),this.removed=!0):this.timer++),this.removed}display(){let t=scaleToPixels(this.body.GetPosition()),e=this.body.GetAngleRadians();rectMode(CENTER),push(),translate(t.x,t.y),rotate(e),fill(127),stroke(200),strokeWeight(2),ellipse(0,0,2*this.r,2*this.r),line(0,0,this.r,0),pop()}displayAsset(){let t=scaleToPixels(this.body.GetPosition()),e=this.body.GetAngleRadians();push(),translate(t.x,t.y),rotate(e),this.hp>1?image(this.imgAsset[3],-this.r,-this.r,2*this.r,2*this.r):image(this.imgAsset[this.currentStatus],-this.r,-this.r,2*this.r,2*this.r),pop()}applyBlastImpulse(t,e,s){let i=createVector(t.x-e.x,t.y-e.y);i.normalize().mult(-1),this.setVelocity(i.mult(s))}}